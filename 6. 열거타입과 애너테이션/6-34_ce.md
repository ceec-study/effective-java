# int 상수 대신 열거 타입을 사용하라.

### 열거 타입
- 자바 열거 타입은 클래스이다.
- 상수 하나당 자신의 인스턴스를 하나씩 만들어 public static final 필드로 공개한다.
- 열거 타입은 밖에서 접근할 수 있는 생성자를 제공하지 않기 때문에 final이다.
- 인스턴스를 직접 생성할 수 없으니 단 하나의 인스턴스만 존재하게 된다. (싱글턴)
- 열거 타입은 컴파일타임 타입 안전성을 제공한다.
- 열거 타입에는 각자의 이름 공간이 있어 이름이 같은 상수도 공존할 수 있다.
  - 공개되는 것은 필드 이름 뿐이라, 상수 값이 클라이언트로 컴파일되어 각인되지 않기 때문에
- 열거 타입에는 임의의 메서드나 필드를 추가하거나 임의의 인터페이스를 구현할 수 있다.
  - 열거 타입에서만 사용하는 기능은 private나 package-private 메서드로 구현하자.
  - 널리 쓰이는 열거 타입은 톱레벨 클래스로 만들자.

<br/>

### 상수별 메서드 구현
- 하나의 메서드가 상수별로 다르게 동작해야 하는 경우가 있다. 이 경우에 상수별 메서드 구현을 사용한다.
- 즉, 각 상수별로 자신에 맞게 동작하는 코드를 구현한 것

### 전략 열거 타입 패턴
- 열거 타입 상수 일부가 같은 동작을 공유하는 경우에 전략 열거 타입 패턴을 사용한다.
- 열거 타입 상수끼리 코드를 공유하기 어렵다.
  -> 이런 단점을 해결하기 위해서 switch문이나 상수별 메서드 구현보다는 `전략 열거 타입`을 사용하자. 


### 정리
- 열거 타입의 성능은 정수 상수와 비슷하다.
- 열거 타입을 메모리에 올리는 공간과 초기화하는 시간이 들긴 하지만 체감할 정도는 아님.
- <b>열거 타입을 써야하는 경우</b>: 필요한 원소를 컨파일타임에 다 알 수 있는 상수 집합인 경우
- 열거 타입은 정의된 상수 개수가 고정 불변일 필요가 없다. 필요한 경우 상수를 추가해서 사용하면 된다.
- switch 문을 써야하는 경우: 기존 열거 타입에 상수별 동작을 혼합해 넣는 경우