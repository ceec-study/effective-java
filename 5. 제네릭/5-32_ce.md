# 제네릭과 가변인수를 함께 쓸 때는 신중하라


### 가변인수
- 메서드의 매개변수를 동적으로 처리할 수 있도록 해주는 것

```java
// 예시
public void exampleMethod(String... strings) {}
```

- 실체화 불가 타입을 매개변수로 넣는다면, 경고가 발생한다.
- 제네릭과 varags를 혼용하면 타입 안정성이 깨진다.
- 하지만 제네릭이나 매개변수화 타입의 varages 매개변수를 받는 메서드는 실무에서 유용하게 쓰인다.
  - e.g. Arrays.asList(), Collections.addAll() 등등

### 어노테이션
- @SuppressWarning: 경로를 숨기는 어노테이션
- @SafeVarags: 메서드 타입의 안전함을 보장하는 어노테이션
  - 메서드가 안전하다는 게 확실하지 않다면 절대 사용하지 말 것

### 안전한 varargs 메서드
- 제네릭이나 매개변수화 타입의 varargs 매개변수를 받는 모든 메서드에 @SafeVarags를 달자. 그렇게 되면 사용자를 헷갈리게 하는 컴파일러 경고를 없앨 수 있다.
<br/> -> 즉 안전하지 않은 varargs 메서드는 절대 작성하지 말 것!

- @SafeVarags를 사용하지 않는다면 varages 매개변수를 List로 바꿔서 사용하자.
  - 장점: 컴파일러가 메서드의 타입 안전성을 검증할 수 있으며 List.of에 @SafeVarags가 이미 달려있으므로 개발자가 직접 달지 않아도 된다.
  - 단점: 클라이언트 코드가 지저분해질 수 있으며 속도가 느려질 수 있다.

<br/>

- 안전한 varargs 메서드의 조건
1. varargs 매개변수 배열에 아무것도 저장하지 않는 경우
2. 그 배열 혹은 복제본을 신뢰할 수 없는 코드에 노출하지 않는 경우
